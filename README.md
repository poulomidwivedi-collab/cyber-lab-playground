# cyber-lab-playground

**Integrated cybersecurity lab combining red team exercises, Cribl log ingestion pipelines, and ASIM-based detection-as-code for SOC learning and portfolio building.**

---

## üìã Overview

This repository is a comprehensive cybersecurity playground designed for:
- **Red Team Learning**: Practical attack simulation in isolated lab environments
- **Log Ingestion & Processing**: Hands-on Cribl Stream/Edge pipeline design
- **Detection Engineering**: ASIM-normalized detection rules and KQL queries

Ideal for building portfolio projects, CTF practice, and SOC automation skills.

---

## üìÅ Repository Structure

### 1. **red-team-lab/** - Offensive Security Exercises
Documented attack scenarios, lab infrastructure, and OPSEC considerations.

- `infra/` - Infrastructure-as-code (Terraform/Ansible) for lab setup
- `scenarios/` - Attack walkthroughs (initial access, privilege escalation, lateral movement)
- `tools-notes/` - Payload obfuscation, OPSEC, evasion techniques
- `lab-diagrams/` - Network topology and attack flow diagrams

**Use Case**: Learn offensive techniques safely, test defensive capabilities.

---

### 2. **cribl-ingestion/** - Data Pipeline Design
Cribl Stream/Edge configurations, sample data, and pipeline documentation.

- `packs/` - Custom Cribl packs for log collection
- `pipelines/` - Route and pipeline definitions (JSON/YAML)
- `samples/` - Real-world log samples (VPC flows, Windows Security, Sysmon)
- `README.md` - Log ingestion strategy and best practices

**Use Case**: Build production-ready log pipelines, normalize diverse data sources.

---

### 3. **detections-as-code-asim/** - Detection Engineering
ASIM parsers, KQL detections, and Sigma rules with CI/validation.

- `schemas/` - ASIM schema mappings and documentation
- `parsers/` - KQL parser functions (normalization)
- `detections/` - Detection rules organized by tactic/technique
- `tests/` - Sample events and unit tests
- `ci/` - Validation scripts (KQL linting, schema checks)

**Use Case**: Write maintainable, normalized detection rules; test against ASIM schemas.

---

## üöÄ Quick Start

### Prerequisites
- Git & GitHub account
- Azure subscription (for Sentinel integration)
- Cribl credentials (Stream/Edge trial account)
- Basic knowledge of KQL, PowerShell, Python

### Getting Started

```bash
# Clone repository
git clone https://github.com/poulomidwivedi-collab/cyber-lab-playground.git
cd cyber-lab-playground

# Explore each section
cd red-team-lab && cat README.md
cd ../cribl-ingestion && cat README.md
cd ../detections-as-code-asim && cat README.md
```

---

## üìö Learning Path

**Beginner**
1. Start with `red-team-lab/scenarios/01-initial-access/`
2. Follow the scenario walkthrough
3. Capture logs generated by attacks

**Intermediate**
1. Design a Cribl pipeline to ingest those logs
2. Normalize raw events using ASIM parsers
3. Write a simple KQL detection rule

**Advanced**
1. Build end-to-end lab automation (Terraform + Ansible)
2. Implement CI/CD for detection rule validation
3. Integrate with Azure Sentinel for live testing

---

## üîß Technologies & Skills

- **Scripting**: Python, PowerShell, Bash
- **Cloud**: Microsoft Azure, Azure Defender XDR
- **SIEM**: Kusto Query Language (KQL), Azure Sentinel
- **Data Pipeline**: Cribl Stream/Edge, log normalization
- **Detection**: ASIM schemas, Sigma rules, threat intelligence
- **Labs**: Hyper-V, Proxmox, or cloud-native environments
- **Frameworks**: NIST CSF, CyBOK, MITRE ATT&CK

---

## üìñ Documentation

Each folder includes a dedicated README with:
- Setup instructions
- Tool documentation
- Best practices
- Common gotchas

---

## ‚ö° Quicklinks

- [Red Team Lab Guide](./red-team-lab/README.md)
- [Cribl Ingestion Guide](./cribl-ingestion/README.md)
- [Detection-as-Code ASIM Guide](./detections-as-code-asim/README.md)
- [GitHub Actions CI/CD](./.github/workflows/)

---

## ‚ö†Ô∏è Important Notes

- **Lab Environment Only**: All exercises are for isolated test environments.
- **No Real Data**: Never use production data or credentials.
- **Compliance**: Ensure your lab activities comply with your organization's policies.
- **Learning First**: This repo prioritizes learning over production readiness.

---

## ü§ù Contributing

Contributions welcome! Please:
1. Fork the repository
2. Create a feature branch
3. Document your additions thoroughly
4. Submit a pull request

---

## üìù License

MIT License - See [LICENSE](./LICENSE) file (if added).

---

## üîó Related Resources

- [ASIM Documentation](https://learn.microsoft.com/en-us/azure/sentinel/normalization)
- [Cribl Stream Docs](https://docs.cribl.io/stream/)
- [MITRE ATT&CK Framework](https://attack.mitre.org/)
- [Sigma Rules](https://github.com/SigmaHQ/sigma)
- [CyBOK Knowledge Areas](https://www.cybok.org/)

---

**Last Updated**: January 2026  
**Maintained By**: @poulomidwivedi-collab
